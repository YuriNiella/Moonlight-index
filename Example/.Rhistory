df <- read.csv("df.csv")
View(df)
library(suncalc)
library(lunar)
library(ggplot2)
library(ggpubr)
load("Moonlight_index.Rdata")
moon.data <- MoonVar(df)
data <- df
data$Time.set <- as.POSIXct(data$Time.set, format = "%Y-%m-%d %H:%M:%S", tz = "UTC")
data$Time.ret <- as.POSIXct(data$Time.ret, format = "%Y-%m-%d %H:%M:%S", tz = "UTC")
summary(data)
if (is.na(data$Time.set[1]) == TRUE) {
stop("Time.set column must be in %Y-%m-%d %H:%M:%S (UTC) format.")
}
if (is.na(data$Time.ret[1]) == TRUE) {
stop("Time.ret column must be in %Y-%m-%d %H:%M:%S (UTC) format.")
}
if (length(data$Time.set) != length(data$Time.ret)) {
stop("Set and retrieval/catch date vectors should have the same length.")
}
if (length(data$Lon) != length(data$Lat)) {
stop("Set and retrieval/catch position vectors should have the same length.")
}
if (length(which(data$Time.ret < data$Time.set)) > 0) {
stop("Retrieval/catch times can't happen before set times.")
}
Circadian.set <- NULL
Circadian.ret <- NULL
Time.lapse <- NULL
Time.gear <- NULL
cat("Identifying sets during exclusively daytime periods", fill = 1)
i<-1
if (as.Date(data$Time.set[i]) == as.Date(data$Time.ret[i])) {
time.aux <- "Same"
} else {
time.aux <- "Different"
}
aux1 <- getSunlightTimes(date = as.Date(data$Time.set[i]), lon = data$Lon[i], lat = data$Lat[i],
keep = c("nauticalDawn", "sunrise", "sunset", "nauticalDusk", "night"), tz = "UTC")
aux1 <- getSunlightTimes(date = as.Date(data$Time.set[i]), lon = data$Lon[i], lat = data$Lat[i],
keep = c("nauticalDawn", "sunrise", "sunset", "nauticalDusk", "night"))
install.packages(suncalc)
install.packages("suncalc")
install.packages("suncalc")
install.packages("lunar")
install.packages("lunar")
library(suncalc)
library(lunar)
library(ggplot2)
library(ggpubr)
load("Moonlight_index.Rdata")
# Load fishing dataset:
df <- read.csv("df.csv")
data$Time.set <- as.POSIXct(data$Time.set, format = "%Y-%m-%d %H:%M:%S", tz = "UTC")
data$Time.ret <- as.POSIXct(data$Time.ret, format = "%Y-%m-%d %H:%M:%S", tz = "UTC")
aux1 <- getSunlightTimes(date = as.Date(data$Time.set[i]), lon = data$Lon[i], lat = data$Lat[i],
keep = c("nauticalDawn", "sunrise", "sunset", "nauticalDusk", "night"), tz = "UTC")
i<-1
library(lubridate)
aux1 <- getSunlightTimes(date = as.Date(data$Time.set[i]), lon = data$Lon[i], lat = data$Lat[i],
keep = c("nauticalDawn", "sunrise", "sunset", "nauticalDusk", "night"), tz = "UTC")
lubridate::dmy_hm("1 Sep 2020 1:00pm", tz="Africa/Blantyre")
Sys.setenv(TZDIR = "macOS")
lubridate::dmy_hm("1 Sep 2020 1:00pm", tz="Africa/Blantyre")
Sys.setenv(TZDIR = "internal")
lubridate::dmy_hm("1 Sep 2020 1:00pm", tz="Africa/Blantyre")
Sys.setenv("TZDIR" = "/Library/Frameworks/R.framework/Resources/share/zoneinfo/")
lubridate::dmy_hm("1 Sep 2020 1:00pm", tz="Africa/Blantyre")
Sys.getenv("TZDIR")
lubridate::dmy_hm("1 Sep 2020 1:00pm", tz="Africa/Blantyre")
usethis::edit_r_profile()
